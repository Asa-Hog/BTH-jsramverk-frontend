{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/asa_h/Desktop/bth/jsramverk/frontend/texteditor/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/asa_h/Desktop/bth/jsramverk/frontend/texteditor/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";var docs={// setCurrentDoc: async function getAllDocs() {\n//     let a = `${URL}/docs`;\n//     // console.log(\"hello world\");\n//     // console.log(\"url is: \" + a);\n//     // // const response = await fetch(`${URL}/docs`); // Hämtar allt som ligger bakom url/docs\n//     const response = await fetch(\"http://localhost:1337/docs\");//Fetch ger sträng\n//     // // Får inte fram rätt url från två rader upp\n//     const result = await response.json(); // Gör om sträng till json\n//     console.log(result);\n//     // console.log(result.data);\n//     // // return result.data; // Skriver jag in detta som det ska vara får jag undefined\n//     return result;\n// },\ngetAllDocs:function(){var _getAllDocs=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var a,response,result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:a=\"\".concat(URL,\"/docs\");// console.log(\"hello world\");\n// console.log(\"url is: \" + a);\n// // const response = await fetch(`${URL}/docs`); // Hämtar allt som ligger bakom url/docs\n_context.next=3;return fetch(\"http://localhost:1337/docs\");case 3:response=_context.sent;_context.next=6;return response.json();case 6:result=_context.sent;// Gör om sträng till json\nconsole.log(result);// console.log(result.data);\n// // return result.data; // Skriver jag in detta som det ska vara får jag undefined\nreturn _context.abrupt(\"return\",result);case 9:case\"end\":return _context.stop();}}},_callee);}));function getAllDocs(){return _getAllDocs.apply(this,arguments);}return getAllDocs;}(),create:function(){var _create=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(doc){var response,result;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"http://localhost:1337/create\",{method:\"POST\",headers:{'Content-Type':'application/json'},body:JSON.stringify(doc)});case 2:response=_context2.sent;// Response är det jag får från backend /create. I det här fallet ett objekt m ett nytt id\nconsole.log(response);_context2.next=6;return response.json();case 6:result=_context2.sent;// Gör om sträng till json\nconsole.log(result);// Gör en koll så response/result status blev 201 - dvs att dokumentet skapades\n// console.log(result.result.ops); //undefined - ger error\n//  if (result.result.ok) {\n//     return res.status(201).json({ data: result.ops });\n// }\n// return result.data; // Skriver jag in detta som det ska vara får jag undefined\n// Göra nåt med id:t jag får tillbaka?\nreturn _context2.abrupt(\"return\",result);case 9:case\"end\":return _context2.stop();}}},_callee2);}));function create(_x){return _create.apply(this,arguments);}return create;}(),update:function(){var _update=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(doc){var response,result;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetch(\"http://localhost:1337/update\",{method:\"PUT\",headers:{\"Content-Type\":\"application/json\"},// headers: {'Content-Type': 'Access-Control-Allow-Origin'},\n// headers: {\"Content-type\": \"application/x-www-form-urlencoded\"},\nbody:JSON.stringify(doc)});case 2:response=_context3.sent;console.log(response);// Response jag får är fel\n_context3.next=6;return response.json();case 6:result=_context3.sent;// Gör om response till json\nconsole.log(result);// Tomt, pga att response är fel\nreturn _context3.abrupt(\"return\",result);case 9:case\"end\":return _context3.stop();}}},_callee3);}));function update(_x2){return _update.apply(this,arguments);}return update;}()};export default docs;","map":{"version":3,"names":["docs","getAllDocs","a","URL","fetch","response","json","result","console","log","create","doc","method","headers","body","JSON","stringify","update"],"sources":["C:/Users/asa_h/Desktop/bth/jsramverk/frontend/texteditor/src/models/docs.js"],"sourcesContent":["const docs = {\n    // setCurrentDoc: async function getAllDocs() {\n    //     let a = `${URL}/docs`;\n    //     // console.log(\"hello world\");\n    //     // console.log(\"url is: \" + a);\n    //     // // const response = await fetch(`${URL}/docs`); // Hämtar allt som ligger bakom url/docs\n    //     const response = await fetch(\"http://localhost:1337/docs\");//Fetch ger sträng\n    //     // // Får inte fram rätt url från två rader upp\n\n    //     const result = await response.json(); // Gör om sträng till json\n\n    //     console.log(result);\n    //     // console.log(result.data);\n\n    //     // // return result.data; // Skriver jag in detta som det ska vara får jag undefined\n    //     return result;\n    // },\n\n    getAllDocs: async function getAllDocs() {\n        let a = `${URL}/docs`;\n        // console.log(\"hello world\");\n        // console.log(\"url is: \" + a);\n        // // const response = await fetch(`${URL}/docs`); // Hämtar allt som ligger bakom url/docs\n        const response = await fetch(\"http://localhost:1337/docs\");//Fetch ger sträng\n        // // Får inte fram rätt url från två rader upp\n\n        const result = await response.json(); // Gör om sträng till json\n\n        console.log(result);\n        // console.log(result.data);\n\n        // // return result.data; // Skriver jag in detta som det ska vara får jag undefined\n        return result;\n    },\n\n    create: async function create(doc) {\n        // const response = await fetch(`${URL}/create`);\n        const response = await fetch(\"http://localhost:1337/create\",\n            { \n                method: \"POST\",\n                headers: {'Content-Type': 'application/json'},\n                body: JSON.stringify(doc)\n            }\n        );\n\n        // Response är det jag får från backend /create. I det här fallet ett objekt m ett nytt id\n        console.log(response);\n        const result = await response.json(); // Gör om sträng till json\n        console.log(result);\n\n        // Gör en koll så response/result status blev 201 - dvs att dokumentet skapades\n        // console.log(result.result.ops); //undefined - ger error\n        //  if (result.result.ok) {\n        //     return res.status(201).json({ data: result.ops });\n        // }\n        // return result.data; // Skriver jag in detta som det ska vara får jag undefined\n\n        // Göra nåt med id:t jag får tillbaka?\n\n        return result;\n    },\n\n    update: async function update(doc) {\n        // const response = await fetch(`${URL}/update/:id`);\n        const response = await fetch(\"http://localhost:1337/update\",\n            { \n                method: \"PUT\",\n                headers: {\"Content-Type\": \"application/json\"},\n                // headers: {'Content-Type': 'Access-Control-Allow-Origin'},\n                // headers: {\"Content-type\": \"application/x-www-form-urlencoded\"},\n                body: JSON.stringify(doc)\n            }\n        );\n\n        console.log(response); // Response jag får är fel\n        const result = await response.json(); // Gör om response till json\n        console.log(result); // Tomt, pga att response är fel\n        return result;\n    }\n};\n\nexport default docs;\n"],"mappings":"4SAAA,GAAMA,KAAI,CAAG,CACT;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AAEAC,UAAU,sFAAE,2JACJC,CADI,WACGC,GADH,UAER;AACA;AACA;AAJQ,sBAKeC,MAAK,CAAC,4BAAD,CALpB,QAKFC,QALE,qCAQaA,SAAQ,CAACC,IAAT,EARb,QAQFC,MARE,eAQ8B;AAEtCC,OAAO,CAACC,GAAR,CAAYF,MAAZ,EACA;AAEA;AAbQ,gCAcDA,MAdC,wDAAF,WAAiBN,WAAjB,mDAAiBA,WAAjB,IAlBD,CAmCTS,MAAM,kFAAE,kBAAsBC,GAAtB,mKAEmBP,MAAK,CAAC,8BAAD,CACxB,CACIQ,MAAM,CAAE,MADZ,CAEIC,OAAO,CAAE,CAAC,eAAgB,kBAAjB,CAFb,CAGIC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeL,GAAf,CAHV,CADwB,CAFxB,QAEEN,QAFF,gBAUJ;AACAG,OAAO,CAACC,GAAR,CAAYJ,QAAZ,EAXI,uBAYiBA,SAAQ,CAACC,IAAT,EAZjB,QAYEC,MAZF,gBAYkC;AACtCC,OAAO,CAACC,GAAR,CAAYF,MAAZ,EAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAtBI,iCAwBGA,MAxBH,0DAAF,WAAiBG,OAAjB,iDAAiBA,OAAjB,IAnCG,CA8DTO,MAAM,kFAAE,kBAAsBN,GAAtB,mKAEmBP,MAAK,CAAC,8BAAD,CACxB,CACIQ,MAAM,CAAE,KADZ,CAEIC,OAAO,CAAE,CAAC,eAAgB,kBAAjB,CAFb,CAGI;AACA;AACAC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeL,GAAf,CALV,CADwB,CAFxB,QAEEN,QAFF,gBAYJG,OAAO,CAACC,GAAR,CAAYJ,QAAZ,EAAuB;AAZnB,uBAaiBA,SAAQ,CAACC,IAAT,EAbjB,QAaEC,MAbF,gBAakC;AACtCC,OAAO,CAACC,GAAR,CAAYF,MAAZ,EAAqB;AAdjB,iCAeGA,MAfH,0DAAF,WAAiBU,OAAjB,kDAAiBA,OAAjB,IA9DG,CAAb,CAiFA,cAAejB,KAAf"},"metadata":{},"sourceType":"module"}