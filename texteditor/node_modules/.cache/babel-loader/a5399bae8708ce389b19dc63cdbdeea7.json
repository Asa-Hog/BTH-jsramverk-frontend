{"ast":null,"code":"const docsModel = {\n  baseUrl: window.location.href.includes(\"localhost\") ? \"http://localhost:1337\" : \"driftsatt i azure\",\n  getAllDocs: async function getAllDocs() {\n    const response = await fetch(`${docsModel.baseUrl}/docs`);\n    const result = await response.json();\n    return result.data;\n  },\n  create: async function create(data) {\n    console.log(\"data\", data);\n    const response = await fetch(`${docsModel.baseUrl}/create`, {\n      method: \"POST\",\n      // headers: {'Content-Type': 'application/json'},\n      headers: {\n        'Content-Type': 'Access-Control-Allow-Origin'\n      },\n      body: JSON.stringify(data)\n    });\n    const result = await response.json();\n    return result.data;\n  },\n  update: async function update(doc) {\n    // const response = await fetch(`${URL}/update/:id`);\n    const response = await fetch(`${docsModel.baseUrl}/update`, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      // headers: {'Content-Type': 'Access-Control-Allow-Origin'},\n      // headers: {\"Content-type\": \"application/x-www-form-urlencoded\"},\n      body: JSON.stringify(doc)\n    }); // console.log(response); // Response jag får är fel\n\n    const result = await response.json(); // Gör om response till json\n    // console.log(result); // Tomt, pga att response är fel\n\n    return result;\n  }\n};\nexport default docsModel; //     // Gör en koll så response/result status blev 201 - dvs att dokumentet skapades\n//     // console.log(response.status(201).json(result)); //undefined - ger error\n//     // console.log(result.result.ops); //undefined - ger error\n//     //  if (result.result.ok) {\n//     //     return res.status(201).json({ data: result.ops });\n//     // }\n//     // return result.data; // Skriver jag in detta som det ska vara får jag undefined\n// setCurrentDoc: async function getAllDocs() {\n//     const response = await fetch(`${docs.baseUrl}/docs`);//Fetch ger sträng\n//     const result = await response.json(); // Gör om sträng till json\n//     console.log(result);\n//     // console.log(result.data);\n//     // // return result.data; // Skriver jag in detta som det ska vara får jag undefined\n//     return result;\n// },","map":{"version":3,"names":["docsModel","baseUrl","window","location","href","includes","getAllDocs","response","fetch","result","json","data","create","console","log","method","headers","body","JSON","stringify","update","doc"],"sources":["C:/Users/asa_h/Desktop/bth/jsramverk/frontend/texteditor/src/models/docsModel.js"],"sourcesContent":["const docsModel = {\n\n    baseUrl: window.location.href.includes(\"localhost\") ? \n        \"http://localhost:1337\" :\n        \"driftsatt i azure\",\n\n\n    getAllDocs: async function getAllDocs() {\n        const response = await fetch(`${docsModel.baseUrl}/docs`);\n\n        const result = await response.json();\n\n        return result.data;\n    },\n\n\n    create: async function create(data) {\n        console.log(\"data\", data);\n        const response = await fetch(`${docsModel.baseUrl}/create`,\n            { \n                method: \"POST\",\n                // headers: {'Content-Type': 'application/json'},\n                headers: {'Content-Type': 'Access-Control-Allow-Origin'},\n                body: JSON.stringify(data)\n            }\n        );\n\n        const result = await response.json();\n\n        return result.data;\n    },\n\n    update: async function update(doc) {\n        // const response = await fetch(`${URL}/update/:id`);\n        const response = await fetch(`${docsModel.baseUrl}/update`,\n            { \n                method: \"PUT\",\n                headers: {\"Content-Type\": \"application/json\"},\n                // headers: {'Content-Type': 'Access-Control-Allow-Origin'},\n                // headers: {\"Content-type\": \"application/x-www-form-urlencoded\"},\n                body: JSON.stringify(doc)\n            }\n        );\n\n        // console.log(response); // Response jag får är fel\n        const result = await response.json(); // Gör om response till json\n        // console.log(result); // Tomt, pga att response är fel\n        return result;\n    }\n};\n\nexport default docsModel;\n\n\n\n\n\n    //     // Gör en koll så response/result status blev 201 - dvs att dokumentet skapades\n    //     // console.log(response.status(201).json(result)); //undefined - ger error\n    //     // console.log(result.result.ops); //undefined - ger error\n    //     //  if (result.result.ok) {\n    //     //     return res.status(201).json({ data: result.ops });\n    //     // }\n    //     // return result.data; // Skriver jag in detta som det ska vara får jag undefined\n\n\n    // setCurrentDoc: async function getAllDocs() {\n    //     const response = await fetch(`${docs.baseUrl}/docs`);//Fetch ger sträng\n\n    //     const result = await response.json(); // Gör om sträng till json\n\n    //     console.log(result);\n    //     // console.log(result.data);\n\n    //     // // return result.data; // Skriver jag in detta som det ska vara får jag undefined\n    //     return result;\n    // },\n\n"],"mappings":"AAAA,MAAMA,SAAS,GAAG;EAEdC,OAAO,EAAEC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqBC,QAArB,CAA8B,WAA9B,IACL,uBADK,GAEL,mBAJU;EAOdC,UAAU,EAAE,eAAeA,UAAf,GAA4B;IACpC,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,GAAER,SAAS,CAACC,OAAQ,OAAtB,CAA5B;IAEA,MAAMQ,MAAM,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAArB;IAEA,OAAOD,MAAM,CAACE,IAAd;EACH,CAba;EAgBdC,MAAM,EAAE,eAAeA,MAAf,CAAsBD,IAAtB,EAA4B;IAChCE,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBH,IAApB;IACA,MAAMJ,QAAQ,GAAG,MAAMC,KAAK,CAAE,GAAER,SAAS,CAACC,OAAQ,SAAtB,EACxB;MACIc,MAAM,EAAE,MADZ;MAEI;MACAC,OAAO,EAAE;QAAC,gBAAgB;MAAjB,CAHb;MAIIC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeR,IAAf;IAJV,CADwB,CAA5B;IASA,MAAMF,MAAM,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAArB;IAEA,OAAOD,MAAM,CAACE,IAAd;EACH,CA9Ba;EAgCdS,MAAM,EAAE,eAAeA,MAAf,CAAsBC,GAAtB,EAA2B;IAC/B;IACA,MAAMd,QAAQ,GAAG,MAAMC,KAAK,CAAE,GAAER,SAAS,CAACC,OAAQ,SAAtB,EACxB;MACIc,MAAM,EAAE,KADZ;MAEIC,OAAO,EAAE;QAAC,gBAAgB;MAAjB,CAFb;MAGI;MACA;MACAC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeE,GAAf;IALV,CADwB,CAA5B,CAF+B,CAY/B;;IACA,MAAMZ,MAAM,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAArB,CAb+B,CAaO;IACtC;;IACA,OAAOD,MAAP;EACH;AAhDa,CAAlB;AAmDA,eAAeT,SAAf,C,CAMI;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA"},"metadata":{},"sourceType":"module"}